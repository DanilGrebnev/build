"use strict";(self.webpackChunkftkm_website=self.webpackChunkftkm_website||[]).push([[368],{8368:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(9439),s=t(6882),a=t(2791),o=t(5772),i=t(6151),u=t(1087),l=t(9480),c=t(4165),d=t(5861),f=t(1544),p=t(184),v=function(e){var n=e.login,t=e.password,o=function(){var e=(0,a.useState)(!1),n=(0,r.Z)(e,2),t=n[0],o=n[1],i=function(){var e=(0,d.Z)((0,c.Z)().mark((function e(n){var t,r,a,i,u,l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.login,r=n.password,a={login:t,password:r},o(!0),e.prev=3,e.next=6,s.o.post("user/login",a);case 6:if(i=e.sent,u=i.data,l=null===u||void 0===u?void 0:u.token){e.next=11;break}return e.abrupt("return");case 11:localStorage.setItem("token",l),window.location.reload(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0),console.log(f.h.LOGIN_ERROR);case 19:return e.prev=19,o(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,15,19,22]])})));return function(n){return e.apply(this,arguments)}}();return{isLoading:t,fetchLogin:i}}(),i=o.fetchLogin,u=o.isLoading;return(0,p.jsx)(l.f,{onClick:function(){return i({login:n,password:t})},loading:u,text:"\u0432\u043e\u0439\u0442\u0438"})},g=t(65),h="style_LoginContainer__Sxpng",x="style_InputContainer__5Y-Ur",_="style_TextField__GrjpH",w="style_BtnGroup__-Hvko",k="style_btn__GLZIT",j=function(e){var n=e.setValue;return(0,p.jsx)(g.Z,{onChange:function(e){return n(e.target.value)},className:_,label:"\u041b\u043e\u0433\u0438\u043d",variant:"outlined"})},m=function(e){var n=e.setValue;return(0,p.jsx)(g.Z,{onChange:function(e){return n(e.target.value)},className:_,id:"outlined-password-input",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",autoComplete:"current-password"})},b=function(){!function(){var e=(0,o.s0)();(0,a.useEffect)((function(){localStorage.getItem("token")&&s.o.get("user/auth").then((function(n){var t;null!==n&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.access&&e("/cms")}))}),[])}();var e=(0,a.useState)(""),n=(0,r.Z)(e,2),t=n[0],l=n[1],c=(0,a.useState)(""),d=(0,r.Z)(c,2),f=d[0],g=d[1];return(0,p.jsx)("div",{className:h,children:(0,p.jsxs)("div",{className:x,children:[(0,p.jsx)("h1",{children:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430"}),(0,p.jsx)(j,{setValue:l}),(0,p.jsx)(m,{setValue:g}),(0,p.jsxs)("div",{className:w,children:[(0,p.jsx)(v,{login:t,password:f}),(0,p.jsx)(u.rU,{to:"/",children:(0,p.jsx)(i.Z,{variant:"outlined",className:k,children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})]})})}}}]);
//# sourceMappingURL=368.9780ae90.chunk.js.map